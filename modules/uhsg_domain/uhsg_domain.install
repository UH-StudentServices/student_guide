<?php

/**
 * Load and save all published article nodes to trigger the automatic domain
 * assignment.
 */
function uhsg_domain_install() {
  $nids = \Drupal::entityQuery('node')
    ->condition('type', 'article')
    ->condition('status', 1)
    ->execute();

  $nodes = \Drupal\node\Entity\Node::loadMultiple($nids);

  foreach ($nodes as $node) {
    $node->save();
  }
}
